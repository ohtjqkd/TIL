# NET PRACTICE

## 브라우저에서 요청을 했을 때, 어떤 과정을 거치게 되나?
1. 우리가 링크를 클릭하거나 주소창에 입력을 했을 때, 먼저 로컬DNS에서 해당 host를 찾고 없다면 dns로 설정된 아이피로 요청을 보낸다.
2. dns 서버로 부터 host의 public ip를 얻어오게 되면 요청에 대한 데이터를 해당 ip로 보내기 위한 준비를 한다.
- OSI 7 계층 모델 혹은 TCP/IP Protocol 모델에 따라 패킷을 만듬
4. 현재 패킷이 위치한 네트워크 노드에서 부터 라우팅 테이블을 참조해가며 패킷을 해당 라우터로 보낸다.
만약 해당 목적지 IP 대역에 대한 경로가 라우팅 테이블에 없으면 기본적으로 정해져있는 게이트 웨이를 통해 보낸다. (기본 게이트웨이마저 없다면 패킷을 손실 됨)

여기서 조금 헷갈리는 부분이 있었는데 모든 웹사이트에 IP가 할당되어 있다면, 아마 IPv4의 경우 많이 모자랄 것이라고 생각했는데, 일단 가정 즉, 요청을 보내는 쪽은 보통 ISP(Internet Service Provider)에게 공인 IP를 __임대__ 받아서 사용하게 된다. 더해서 naver들의 많은 서버들이 각각 공인 IP를 가지고 있는 것이 아니라 네이터에 몇개의 IP를 할당 받아 사용하면서 내부적으로 로드밸런서 등을 통해 해당 서버로 요청을 뿌려주는 형식으로 보인다.

## 서브네팅
서브네팅이란 "네트워크 관리자가 네트워크 성능을 향상시키기 위해, 자원을 효율적으로 분배하는 것이다. 효율적으로 분배한다는 것은 네트워크 영역과 호스트 영역을 분할하는 것", 너무 큰 브로드캐스트 도메인은 네트워크 환경에서 패킷 전송을 느리게하고 성능저하를 일으킨다. 따라서 네트워크 영역을 쪼개서 성능을 성능을 보장시킨다.

## IP의 특징
하나의 IP는 네트워크 ID + 호스트 ID로 구성되어 있는데 하나의 네트워크에 있는 IP끼리 통신하기 위해서는 네트워크 ID는 같아야하고 호스트 ID는 달라야한다.

* 브로드 캐스트 도메인: 라우터와 네트워크 장비가 없이도 통신할 수 있는 영역

## 서브넷 마스크
서브넷마스크는 IP 주소를 통해 네트워크 ID와 호스트 ID를 식별할 수 있게 해주는 일종의 함수?이다.
서브넷 마스크는 일반적으로 255.255.255.0처럼 표기한다.
ex)
IP: 192.168.0.1
netmask: 255.255.255.0
네트워크 ID: 192.168.0
호스트 ID: 1
## 계산하는 방법
1. 먼저 IP와 netmask를 이진수로 변환한다.
```
192.168.0.1     -> 1100 0000 1010 1000 0000 0000 0000 0001
255.255.255.0   -> 1111 1111 1111 1111 1111 1111 0000 0000
```
2. 두 이진수를 AND 연산
```
        1100 0000 1010 1000 0000 0000 0000 0001
AND     1111 1111 1111 1111 1111 1111 0000 0000
        1100 0000 1010 1000 0000 0000 0000 0000
```
3. 1과 연산되는 부분이 네트워크 ID이고 0과 연산되는 부분이 호스트 ID를 나타낸다.
따라서, 네트워크 아이디는 192.168.0이고 호스트 아이디는 1이 된다.




[https://www.youtube.com/watch?v=_AONcID7Sc8&ab_channel=%EB%94%B0%EB%9D%BC%ED%95%98%EB%A9%B4%EC%84%9C%EB%B0%B0%EC%9A%B0%EB%8A%94IT]
[https://www.youtube.com/watch?v=tVntagSJctc&ab_channel=%EB%94%B0%EB%9D%BC%ED%95%98%EB%A9%B4%EC%84%9C%EB%B0%B0%EC%9A%B0%EB%8A%94IT]
[https://www.youtube.com/watch?v=CjnKNIyREHA&ab_channel=%EB%94%B0%EB%9D%BC%ED%95%98%EB%A9%B4%EC%84%9C%EB%B0%B0%EC%9A%B0%EB%8A%94IT]
[https://www.youtube.com/watch?v=2Jv2rVndRsA&ab_channel=%EB%84%90%EB%84%90%ED%95%9C%EA%B0%9C%EB%B0%9C%EC%9E%90TV]